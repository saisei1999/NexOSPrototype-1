<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexOS - Stock Market Research</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="app-title">NexOS</h1>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search..." id="search-input">
                    <span class="search-shortcut">⌘K</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <button class="sidebar-item active" data-tab="inbox">
                        <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        <span>Inbox</span>
                    </button>
                    
                    <button class="sidebar-item" data-tab="notes">
                        <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <polyline points="14,2 14,8 20,8"></polyline>
                        </svg>
                        <span>Notes</span>
                    </button>
                    
                    <button class="sidebar-item" data-tab="reader">
                        <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                        </svg>
                        <span>Reader</span>
                    </button>
                </div>
                
                <div class="nav-section">
                    <div class="section-header">
                        <span>Library</span>
                        <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9,18 15,12 9,6"></polyline>
                        </svg>
                    </div>
                    <div class="section-content">
                        <button class="sidebar-item sub-item">
                            <span>Watchlist</span>
                        </button>
                        <button class="sidebar-item sub-item">
                            <span>Research</span>
                        </button>
                        <button class="sidebar-item sub-item">
                            <span>Archive</span>
                        </button>
                    </div>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">T</div>
                    <span class="user-name">Trader</span>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Inbox View -->
            <div id="inbox-view" class="view active">
                <div class="view-header">
                    <h2>Quick Capture</h2>
                    <div class="view-actions">
                        <button class="btn-secondary" id="clear-all-btn">Clear All</button>
                    </div>
                </div>
                
                <div class="capture-section">
                    <div class="capture-input-container">
                        <div class="input-header">
                            <div class="edit-indicator" id="edit-indicator" style="display: none;">
                                <svg class="edit-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                                <span>editing</span>
                            </div>
                        </div>
                        
                        <!-- Category Selection -->
                        <div class="category-selection" id="category-selection">
                            <button class="category-btn" data-category="technical" id="category-technical">
                                Technical
                            </button>
                            <button class="category-btn" data-category="fundamental" id="category-fundamental">
                                Fundamental
                            </button>
                            <div class="category-dropdown-container">
                                <button class="category-btn" data-category="idea" id="category-idea">
                                    <span class="category-text">Idea</span>
                                    <span class="dropdown-arrow" id="idea-dropdown-arrow" style="display: none;">▼</span>
                                </button>
                                
                                <!-- Timeframe Dropdown Menu -->
                                <div class="dropdown-menu" id="timeframe-dropdown">
                                    <div class="dropdown-option" data-timeframe="intraday">Intraday</div>
                                    <div class="dropdown-option" data-timeframe="swing">Swing</div>
                                    <div class="dropdown-option" data-timeframe="core">Core</div>
                                    <div class="dropdown-option" data-timeframe="long-term">Long-term</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="textarea-container">
                            <textarea 
                                id="capture-input" 
                                class="capture-input" 
                                placeholder="Quick capture your trading ideas... Use $TICKER to tag stocks (e.g., $AAPL, $TSLA)"
                                autofocus
                            ></textarea>
                            
                            <!-- Image Upload Button -->
                            <button class="image-upload-button" id="image-upload-button" title="Add Image">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <polyline points="21,15 16,10 5,21"></polyline>
                                </svg>
                            </button>
                            
                            <button class="send-button" id="send-button" title="Send (Cmd+Enter)">
                                <svg class="send-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 2L11 13"></path>
                                    <path d="M22 2L15 22L11 13L2 9L22 2Z"></path>
                                </svg>
                            </button>
                            
                            <!-- Hidden File Input -->
                            <input type="file" id="image-file-input" accept="image/png,image/jpeg,image/jpg" multiple style="display: none;">
                        </div>
                        
                        <!-- Image Preview Area -->
                        <div class="image-preview-container" id="image-preview-container" style="display: none;">
                            <div class="image-preview-list" id="image-preview-list"></div>
                        </div>
                        
                        <div class="edit-actions" id="edit-actions" style="display: none;">
                            <button class="btn-secondary cancel-edit-btn" id="cancel-edit-btn">Cancel</button>
                            <button class="btn-primary save-edit-btn" id="save-edit-btn">Save</button>
                        </div>
                    </div>
                    <div class="capture-info">
                        <span id="ticker-preview" class="ticker-preview"></span>
                        <span class="save-indicator" id="save-indicator">Draft saved</span>
                    </div>
                </div>
                
                <div class="captures-list">
                    <div id="captures-container" class="captures-container">
                        <!-- Captures will be dynamically added here -->
                    </div>
                </div>
            </div>

            <!-- Notes View -->
            <div id="notes-view" class="view">
                <div class="view-header">
                    <h2>Notes</h2>
                    <div class="view-actions">
                        <button class="btn-primary" id="new-note-btn">New Note</button>
                    </div>
                </div>
                <div id="notes-container" class="notes-container">
                    <!-- Notes will be dynamically added here -->
                </div>
            </div>

            <!-- Reader View -->
            <div id="reader-view" class="view">
                <div class="view-header">
                    <h2>Article Reader</h2>
                    <div class="url-input-container">
                        <input 
                            type="url" 
                            id="article-url-input" 
                            class="url-input" 
                            placeholder="Paste article URL here..."
                        >
                        <button class="btn-primary" id="save-article-btn">Save Article</button>
                    </div>
                </div>
                <div id="articles-container" class="articles-container">
                    <!-- Articles will be dynamically added here -->
                </div>
            </div>
        </main>
    </div>

    <!-- Stock Modal -->
    <div class="modal-overlay" id="stock-modal-overlay" style="display: none;">
        <div class="stock-modal" id="stock-modal">
            <div class="modal-header">
                <h3 class="stock-symbol" id="modal-stock-symbol">$AAPL</h3>
                <button class="modal-close" id="modal-close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-content">
                <div class="stock-price">
                    <span class="current-price" id="modal-price">$185.25</span>
                    <span class="price-change" id="modal-change">+2.15 (+1.17%)</span>
                </div>
                <div class="stock-chart">
                    <div class="chart-placeholder">
                        <svg viewBox="0 0 300 150" class="mock-chart">
                            <polyline points="10,140 50,120 90,100 130,80 170,90 210,70 250,60 290,50" 
                                      fill="none" stroke="#0084ff" stroke-width="2"/>
                            <circle cx="290" cy="50" r="3" fill="#0084ff"/>
                        </svg>
                    </div>
                </div>
                <div class="stock-metrics">
                    <div class="metric">
                        <span class="metric-label">Volume</span>
                        <span class="metric-value" id="modal-volume">45.2M</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Market Cap</span>
                        <span class="metric-value" id="modal-market-cap">2.85T</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load JavaScript -->
    <script src="js/storage.js"></script>
    <script src="js/capture.js"></script>
    <script src="js/app.js"></script>
    <script src="data/mockData.js"></script>
</body>
</html>
